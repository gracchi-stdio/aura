---
import { getCollection, getEntryBySlug } from 'astro:content';
import { getConfig } from '../lib/config';
import Layout from '../layouts/Layout.astro';

const config = getConfig();
const collections: Record<string, any[]> = {};

// Load all collections
for (const vault of config.vaults) {
  try {
    collections[vault.repo] = await getCollection(vault.repo);
  } catch (error) {
    console.error(`Error loading collection ${vault.repo}:`, error);
    collections[vault.repo] = [];
  }
}
---
<Layout>
  <pre>{JSON.stringify(collections?.unboundedTerritories)}</pre>

</Layout>
